\doxysection{Telemetry.\+h}
\hypertarget{_telemetry_8h_source}{}\label{_telemetry_8h_source}\index{Smokey-\/18/src/main/include/Telemetry.h@{Smokey-\/18/src/main/include/Telemetry.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00002\ }
\DoxyCodeLine{00003\ \textcolor{preprocessor}{\#include\ "{}ctre/phoenix6/SignalLogger.hpp"{}}}
\DoxyCodeLine{00004\ \textcolor{preprocessor}{\#include\ <frc/smartdashboard/Mechanism2d.h>}}
\DoxyCodeLine{00005\ \textcolor{preprocessor}{\#include\ <frc/smartdashboard/MechanismLigament2d.h>}}
\DoxyCodeLine{00006\ \textcolor{preprocessor}{\#include\ <networktables/NetworkTableInstance.h>}}
\DoxyCodeLine{00007\ \textcolor{preprocessor}{\#include\ <networktables/DoubleArrayTopic.h>}}
\DoxyCodeLine{00008\ \textcolor{preprocessor}{\#include\ <networktables/DoubleTopic.h>}}
\DoxyCodeLine{00009\ \textcolor{preprocessor}{\#include\ <networktables/StringTopic.h>}}
\DoxyCodeLine{00010\ \textcolor{preprocessor}{\#include\ <networktables/StructArrayTopic.h>}}
\DoxyCodeLine{00011\ \textcolor{preprocessor}{\#include\ <networktables/StructTopic.h>}}
\DoxyCodeLine{00012\ }
\DoxyCodeLine{00013\ \textcolor{preprocessor}{\#include\ "{}subsystems/CommandSwerveDrivetrain.h"{}}}
\DoxyCodeLine{00014\ }
\DoxyCodeLine{00015\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_telemetry_a288dded9cb9535abcb597582307022a9}{Telemetry}}\ \{}
\DoxyCodeLine{00016\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00017\ \ \ \ \ units::meters\_per\_second\_t\ m\_maxSpeed;}
\DoxyCodeLine{00018\ }
\DoxyCodeLine{00019\ \ \ \ \ \textcolor{comment}{/*\ What\ to\ publish\ over\ networktables\ for\ telemetry\ */}}
\DoxyCodeLine{00020\ \ \ \ \ nt::NetworkTableInstance\ inst\ =\ nt::NetworkTableInstance::GetDefault();}
\DoxyCodeLine{00021\ }
\DoxyCodeLine{00022\ \ \ \ \ \textcolor{comment}{/*\ Robot\ swerve\ drive\ state\ */}}
\DoxyCodeLine{00023\ \ \ \ \ std::shared\_ptr<nt::NetworkTable>\ driveStateTable\ =\ inst.GetTable(\textcolor{stringliteral}{"{}DriveState"{}});}
\DoxyCodeLine{00024\ \ \ \ \ nt::StructPublisher<frc::Pose2d>\ drivePose\ =\ driveStateTable-\/>GetStructTopic<frc::Pose2d>(\textcolor{stringliteral}{"{}Pose"{}}).Publish();}
\DoxyCodeLine{00025\ \ \ \ \ nt::StructPublisher<frc::ChassisSpeeds>\ driveSpeeds\ =\ driveStateTable-\/>GetStructTopic<frc::ChassisSpeeds>(\textcolor{stringliteral}{"{}Speeds"{}}).Publish();}
\DoxyCodeLine{00026\ \ \ \ \ nt::StructArrayPublisher<frc::SwerveModuleState>\ driveModuleStates\ =\ driveStateTable-\/>GetStructArrayTopic<frc::SwerveModuleState>(\textcolor{stringliteral}{"{}ModuleStates"{}}).Publish();}
\DoxyCodeLine{00027\ \ \ \ \ nt::StructArrayPublisher<frc::SwerveModuleState>\ driveModuleTargets\ =\ driveStateTable-\/>GetStructArrayTopic<frc::SwerveModuleState>(\textcolor{stringliteral}{"{}ModuleTargets"{}}).Publish();}
\DoxyCodeLine{00028\ \ \ \ \ nt::StructArrayPublisher<frc::SwerveModulePosition>\ driveModulePositions\ =\ driveStateTable-\/>GetStructArrayTopic<frc::SwerveModulePosition>(\textcolor{stringliteral}{"{}ModulePositions"{}}).Publish();}
\DoxyCodeLine{00029\ \ \ \ \ nt::DoublePublisher\ driveTimestamp\ =\ driveStateTable-\/>GetDoubleTopic(\textcolor{stringliteral}{"{}Timestamp"{}}).Publish();}
\DoxyCodeLine{00030\ \ \ \ \ nt::DoublePublisher\ driveOdometryFrequency\ =\ driveStateTable-\/>GetDoubleTopic(\textcolor{stringliteral}{"{}OdometryFrequency"{}}).Publish();}
\DoxyCodeLine{00031\ }
\DoxyCodeLine{00032\ \ \ \ \ \textcolor{comment}{/*\ Robot\ pose\ for\ field\ positioning\ */}}
\DoxyCodeLine{00033\ \ \ \ \ std::shared\_ptr<nt::NetworkTable>\ table\ =\ inst.GetTable(\textcolor{stringliteral}{"{}Pose"{}});}
\DoxyCodeLine{00034\ \ \ \ \ nt::DoubleArrayPublisher\ fieldPub\ =\ table-\/>GetDoubleArrayTopic(\textcolor{stringliteral}{"{}robotPose"{}}).Publish();}
\DoxyCodeLine{00035\ \ \ \ \ nt::StringPublisher\ fieldTypePub\ =\ table-\/>GetStringTopic(\textcolor{stringliteral}{"{}.type"{}}).Publish();}
\DoxyCodeLine{00036\ }
\DoxyCodeLine{00037\ \ \ \ \ \textcolor{comment}{/*\ Mechanisms\ to\ represent\ the\ swerve\ module\ states\ */}}
\DoxyCodeLine{00038\ \ \ \ \ std::array<frc::Mechanism2d,\ 4>\ m\_moduleMechanisms\{}
\DoxyCodeLine{00039\ \ \ \ \ \ \ \ \ frc::Mechanism2d\{1,\ 1\},}
\DoxyCodeLine{00040\ \ \ \ \ \ \ \ \ frc::Mechanism2d\{1,\ 1\},}
\DoxyCodeLine{00041\ \ \ \ \ \ \ \ \ frc::Mechanism2d\{1,\ 1\},}
\DoxyCodeLine{00042\ \ \ \ \ \ \ \ \ frc::Mechanism2d\{1,\ 1\},}
\DoxyCodeLine{00043\ \ \ \ \ \};}
\DoxyCodeLine{00044\ \ \ \ \ \textcolor{comment}{/*\ A\ direction\ and\ length\ changing\ ligament\ for\ speed\ representation\ */}}
\DoxyCodeLine{00045\ \ \ \ \ std::array<frc::MechanismLigament2d\ *,\ 4>\ m\_moduleSpeeds\{}
\DoxyCodeLine{00046\ \ \ \ \ \ \ \ \ m\_moduleMechanisms[0].GetRoot(\textcolor{stringliteral}{"{}RootSpeed"{}},\ 0.5,\ 0.5)-\/>Append<frc::MechanismLigament2d>(\textcolor{stringliteral}{"{}Speed"{}},\ 0.5,\ 0\_deg),}
\DoxyCodeLine{00047\ \ \ \ \ \ \ \ \ m\_moduleMechanisms[1].GetRoot(\textcolor{stringliteral}{"{}RootSpeed"{}},\ 0.5,\ 0.5)-\/>Append<frc::MechanismLigament2d>(\textcolor{stringliteral}{"{}Speed"{}},\ 0.5,\ 0\_deg),}
\DoxyCodeLine{00048\ \ \ \ \ \ \ \ \ m\_moduleMechanisms[2].GetRoot(\textcolor{stringliteral}{"{}RootSpeed"{}},\ 0.5,\ 0.5)-\/>Append<frc::MechanismLigament2d>(\textcolor{stringliteral}{"{}Speed"{}},\ 0.5,\ 0\_deg),}
\DoxyCodeLine{00049\ \ \ \ \ \ \ \ \ m\_moduleMechanisms[3].GetRoot(\textcolor{stringliteral}{"{}RootSpeed"{}},\ 0.5,\ 0.5)-\/>Append<frc::MechanismLigament2d>(\textcolor{stringliteral}{"{}Speed"{}},\ 0.5,\ 0\_deg),}
\DoxyCodeLine{00050\ \ \ \ \ \};}
\DoxyCodeLine{00051\ \ \ \ \ \textcolor{comment}{/*\ A\ direction\ changing\ and\ length\ constant\ ligament\ for\ module\ direction\ */}}
\DoxyCodeLine{00052\ \ \ \ \ std::array<frc::MechanismLigament2d\ *,\ 4>\ m\_moduleDirections\{}
\DoxyCodeLine{00053\ \ \ \ \ \ \ \ \ m\_moduleMechanisms[0].GetRoot(\textcolor{stringliteral}{"{}RootDirection"{}},\ 0.5,\ 0.5)}
\DoxyCodeLine{00054\ \ \ \ \ \ \ \ \ \ \ \ \ -\/>Append<frc::MechanismLigament2d>(\textcolor{stringliteral}{"{}Direction"{}},\ 0.1,\ 0\_deg,\ 0,\ frc::Color8Bit\{frc::Color::kWhite\}),}
\DoxyCodeLine{00055\ \ \ \ \ \ \ \ \ m\_moduleMechanisms[1].GetRoot(\textcolor{stringliteral}{"{}RootDirection"{}},\ 0.5,\ 0.5)}
\DoxyCodeLine{00056\ \ \ \ \ \ \ \ \ \ \ \ \ -\/>Append<frc::MechanismLigament2d>(\textcolor{stringliteral}{"{}Direction"{}},\ 0.1,\ 0\_deg,\ 0,\ frc::Color8Bit\{frc::Color::kWhite\}),}
\DoxyCodeLine{00057\ \ \ \ \ \ \ \ \ m\_moduleMechanisms[2].GetRoot(\textcolor{stringliteral}{"{}RootDirection"{}},\ 0.5,\ 0.5)}
\DoxyCodeLine{00058\ \ \ \ \ \ \ \ \ \ \ \ \ -\/>Append<frc::MechanismLigament2d>(\textcolor{stringliteral}{"{}Direction"{}},\ 0.1,\ 0\_deg,\ 0,\ frc::Color8Bit\{frc::Color::kWhite\}),}
\DoxyCodeLine{00059\ \ \ \ \ \ \ \ \ m\_moduleMechanisms[3].GetRoot(\textcolor{stringliteral}{"{}RootDirection"{}},\ 0.5,\ 0.5)}
\DoxyCodeLine{00060\ \ \ \ \ \ \ \ \ \ \ \ \ -\/>Append<frc::MechanismLigament2d>(\textcolor{stringliteral}{"{}Direction"{}},\ 0.1,\ 0\_deg,\ 0,\ frc::Color8Bit\{frc::Color::kWhite\}),}
\DoxyCodeLine{00061\ \ \ \ \ \};}
\DoxyCodeLine{00062\ }
\DoxyCodeLine{00063\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00069\ \ \ \ \ \mbox{\hyperlink{class_telemetry_a288dded9cb9535abcb597582307022a9}{Telemetry}}(units::meters\_per\_second\_t\ maxSpeed)\ :\ m\_maxSpeed\{maxSpeed\}}
\DoxyCodeLine{00070\ \ \ \ \ \{}
\DoxyCodeLine{00071\ \ \ \ \ \ \ \ \ ctre::phoenix6::SignalLogger::Start();}
\DoxyCodeLine{00072\ \ \ \ \ \}}
\DoxyCodeLine{00073\ }
\DoxyCodeLine{00075\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_telemetry_a8725e4b0514dc7021d3e46db08d3371f}{Telemeterize}}(subsystems::CommandSwerveDrivetrain::SwerveDriveState\ \textcolor{keyword}{const}\ \&state);}
\DoxyCodeLine{00076\ \};}

\end{DoxyCode}
